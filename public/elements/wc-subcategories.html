<dom-module id="wc-subcategories">
    <template>
        <style>
            .buttonMov{
                height: 50px;
                width: 150px;
                vertical-align: text-bottom;
            }
            .div-button{
                display: inline-block;
            }
        </style>
        <iron-ajax auto url="/api/colec-item?hero={{data}}" handle-as="json" on-response="handleResponse" debounce-duration="300"></iron-ajax>
        <div>
            <div class="div-button">
                <button class="buttonMov" on-tap="moveSubTap" value="anterior"> ANTERIOR </button>
            </div>
            <template is="dom-repeat" items="{{items}}" as="item">
                <wc-item data={{item}}></wc-item>
            </template>
            <div class="div-button">
                <button class="buttonMov" on-tap="moveSubTap" value="siguiente"> SIGUIENTE </button>
            </div>
        </div>
    </template>
    <script>
        (function() {
            WCSubcategories = Polymer({
                is: 'wc-subcategories',
                properties: {
                    data: {
                        type: String,
                        value: ""
                    },
                    items: {
                        type: Array,
                        value: function() {
                            return [];
                        }
                    }
                },
                ready: function() {},
                handleResponse: function(res, req, err) {
                    this.items = res.detail.response.items;
                },
                moveSubTap: function(e) {
                    e.stopPropagation();
                    this.fire ('moveSubcolection', {accion:e.target.value, subcolection:this.data});
                },
            });
        })();
    </script>
</dom-module>
